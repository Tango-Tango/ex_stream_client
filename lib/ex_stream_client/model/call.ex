defmodule ExStreamClient.Model.Call do
  @moduledoc "Schema representing a Call"
  use ExStreamClient.Jason

  @enforce_keys [
    :app_pk,
    :backstage,
    :blocked_user_i_ds,
    :blocked_users,
    :cid,
    :channel_cid,
    :created_at,
    :created_by_user_id,
    :current_session_id,
    :custom,
    :egresses,
    :id,
    :last_session_id,
    :members,
    :team,
    :thumbnail_url,
    :type,
    :updated_at
  ]
  defstruct [
    :id,
    :session,
    :type,
    :call_type,
    :custom,
    :team,
    :created_at,
    :created_by,
    :cid,
    :updated_at,
    :join_ahead_time_seconds,
    :members,
    :deleted_at,
    :app_pk,
    :ended_at,
    :backstage,
    :current_session_id,
    :settings,
    :channel_cid,
    :starts_at,
    :blocked_user_i_ds,
    :blocked_users,
    :created_by_user_id,
    :egresses,
    :last_session_id,
    :thumbnail_url,
    :egress_updated_at,
    :last_heartbeat_at,
    :member_count,
    :member_lookup,
    :settings_overrides
  ]

  @type t :: %__MODULE__{
          id: String.t(),
          session: ExStreamClient.Model.CallSession.t() | nil,
          type: String.t(),
          call_type: ExStreamClient.Model.CallType.t() | nil,
          custom: map(),
          team: String.t(),
          created_at: float(),
          created_by: ExStreamClient.Model.User.t() | nil,
          cid: String.t(),
          updated_at: float(),
          join_ahead_time_seconds: integer() | nil,
          members: [ExStreamClient.Model.CallMember.t()],
          deleted_at: float() | nil,
          app_pk: integer(),
          ended_at: float() | nil,
          backstage: boolean(),
          current_session_id: String.t(),
          settings: ExStreamClient.Model.CallSettings.t() | nil,
          channel_cid: String.t(),
          starts_at: float() | nil,
          blocked_user_i_ds: [String.t()],
          blocked_users: [ExStreamClient.Model.User.t()],
          created_by_user_id: String.t(),
          egresses: [ExStreamClient.Model.CallEgress.t()],
          last_session_id: String.t(),
          thumbnail_url: String.t(),
          egress_updated_at: float() | nil,
          last_heartbeat_at: float() | nil,
          member_count: integer() | nil,
          member_lookup: ExStreamClient.Model.MemberLookup.t() | nil,
          settings_overrides: ExStreamClient.Model.CallSettings.t() | nil
        }
end