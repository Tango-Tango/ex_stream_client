defmodule ExStreamClient.Model.Message do
  @moduledoc "Schema representing a Message"
  use ExStreamClient.Jason

  @enforce_keys [
    :created_at,
    :silent,
    :deleted_reply_count,
    :reply_count,
    :reaction_counts,
    :html,
    :restricted_visibility,
    :pinned,
    :own_reactions,
    :id,
    :updated_at,
    :custom,
    :latest_reactions,
    :cid,
    :type,
    :attachments,
    :mentioned_users,
    :text,
    :reaction_scores,
    :shadowed,
    :reaction_groups
  ]
  defstruct [
    :user,
    :message_text_updated_at,
    :deleted_reply_count,
    :poll_id,
    :image_labels,
    :quoted_message_id,
    :restricted_visibility,
    :thread_participants,
    :text,
    :reaction_scores,
    :cid,
    :silent,
    :custom,
    :mentioned_users,
    :reaction_counts,
    :pinned,
    :pinned_at,
    :pinned_by,
    :moderation,
    :parent_id,
    :shadowed,
    :deleted_at,
    :command,
    :mml,
    :quoted_message,
    :reply_count,
    :i18n,
    :show_in_channel,
    :updated_at,
    :before_message_send_failed,
    :attachments,
    :poll,
    :id,
    :latest_reactions,
    :own_reactions,
    :reaction_groups,
    :pin_expires,
    :type,
    :html,
    :created_at
  ]

  @type t :: %__MODULE__{
          user: ExStreamClient.Model.User.t() | nil,
          message_text_updated_at: float() | nil,
          deleted_reply_count: integer(),
          poll_id: String.t() | nil,
          image_labels: map() | nil,
          quoted_message_id: String.t() | nil,
          restricted_visibility: [String.t()],
          thread_participants: [ExStreamClient.Model.User.t()] | nil,
          text: String.t(),
          reaction_scores: map(),
          cid: String.t(),
          silent: boolean(),
          custom: map(),
          mentioned_users: [ExStreamClient.Model.User.t()],
          reaction_counts: map(),
          pinned: boolean(),
          pinned_at: float() | nil,
          pinned_by: ExStreamClient.Model.User.t() | nil,
          moderation: ExStreamClient.Model.ModerationV2Response.t() | nil,
          parent_id: String.t() | nil,
          shadowed: boolean(),
          deleted_at: float() | nil,
          command: String.t() | nil,
          mml: String.t() | nil,
          quoted_message: ExStreamClient.Model.Message.t() | nil,
          reply_count: integer(),
          i18n: map() | nil,
          show_in_channel: boolean() | nil,
          updated_at: float(),
          before_message_send_failed: boolean() | nil,
          attachments: [ExStreamClient.Model.Attachment.t()],
          poll: ExStreamClient.Model.Poll.t() | nil,
          id: String.t(),
          latest_reactions: [ExStreamClient.Model.Reaction.t()],
          own_reactions: [ExStreamClient.Model.Reaction.t()],
          reaction_groups: map(),
          pin_expires: float() | nil,
          type: String.t(),
          html: String.t(),
          created_at: float()
        }
end